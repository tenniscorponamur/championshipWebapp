<div class="card tennisCorpoBox">
  <h4 class="card-header">
    Terrain
    <span *ngIf="deletable" style="float:right">
        <a (click)="supprimerTerrain();" class="deleteTerrainButton"><i class="fa fa-trash" ></i></a>
    </span>
  </h4>
  <div class="card-body">

    <div class="row">

      <div class="col-2">
        <div style="text-align:right;">
          <i class="fa fa-windows fa-4x fa-rotate-90" style="color:greenyellow"></i>
        </div>
      </div>

      <div class="col-10">
        <div class="myBox myBoxEditable">
          <div class="myBoxTitle" (click)="ouvrirTerrain();">
            Informations du terrain<span style="float:right;"><a><i class="fa fa-pencil fa-2"></i></a></span>
          </div>
          <div class="myBoxContent">
            <span>
              <strong>{{terrain.nom|uppercase}}</strong>
            </span>
            &nbsp;<span *ngIf="terrain.terrainCriteriumParDefaut"><i class="fa fa-star " style="color:goldenrod;"></i></span>
            <br/>
            &nbsp;<span *ngIf="terrain.presenceBuvette"><i class="fa fa-beer"></i></span>
            &nbsp;<span *ngIf="terrain.presenceBancontact"><i class="fa fa-credit-card"></i></span>
            <br/>
            {{terrain.description}}
            <br/>
            <a href="https://maps.google.com/?q={{terrain.adresse}}" target="_blank">{{terrain.adresse}}</a>
          </div>
        </div>
      </div>
        
      <div class="col-12">
        <div class="myBox">
          <div class="myBoxTitle">
            Horaires du terrain
          </div>
          <div class="myBoxContent">
              <div class="table-responsive" style="max-height: 200px;">
                  <table class="table table-striped table-sm"  matSort (matSortChange)="sortData($event)">
                    <thead class="bg-info">
                    <tr>
                      <th scope="col" mat-sort-header="typeChampionnnat">Championnat</th>
                      <th scope="col" mat-sort-header="jourSemaine">Jour</th>
                      <th scope="col">Horaire</th>
                      <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let horaireTerrain of horairesTerrain" class="text-left" >
                            <td>
                            <select [(ngModel)]="horaireTerrain.typeChampionnat" (change)="changeHoraire(horaireTerrain)" >
                              <option *ngFor="let typeChampionnat of typesChampionnat" [value]="typeChampionnat.code">
                                {{ typeChampionnat.libelle }}
                              </option>
                            </select>
                            </td>
                            <td>
                                <select [(ngModel)]="horaireTerrain.jourSemaine" (change)="changeHoraire(horaireTerrain)">
                                  <option *ngFor="let jourSemaine of joursSemaine" [value]="jourSemaine.code">
                                    {{ jourSemaine.libelle }}
                                  </option>
                                </select>
                            </td>
                            <td>
                                <select [(ngModel)]="horaireTerrain.heures" (change)="changeHoraire(horaireTerrain)" >
                                    <option>8</option>
                                    <option>9</option>
                                    <option>10</option>
                                    <option>11</option>
                                    <option>12</option>
                                    <option>13</option>
                                    <option>14</option>
                                    <option>15</option>
                                    <option>16</option>
                                    <option>17</option>
                                    <option>18</option>
                                    <option>19</option>
                                    <option>20</option>
                              </select>

                                <select [(ngModel)]="horaireTerrain.minutes" (change)="changeHoraire(horaireTerrain)" >
                                    <option value="0">00</option>
                                    <option>15</option>
                                    <option>30</option>
                                    <option>45</option>
                                </select>
                            </td>   
                            <td><button (click)="supprimerHoraire(horaireTerrain);" class="deleteHoraireTerrainButton"><i class="fa fa-trash" ></i></button></td>
                        </tr>
                    </tbody>
                  </table>
                </div>
                <div class="text-right" style="margin-top:10px;">
                    <button class="btn btn-secondary btn-sm" (click)="addHoraire();" ><i class="fa fa-plus-circle"></i>&nbsp;Nouvel horaire</button>
                </div>
          </div>
        </div>
      </div>
        
      <div class="col-12">
        <div class="myBox">
          <div class="myBoxTitle">
            Courts
          </div>
          <div class="myBoxContent">
              <div class="table-responsive" style="max-height: 200px;">
                  <table class="table table-striped table-sm" >
                    <thead class="bg-info">
                    <tr>
                      <th scope="col">Code</th>
                      <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let court of courts" class="text-left" >
                            <td>
                                <input [(ngModel)]="court.code" (keyup.enter)="changeCourt(court);" (blur)="changeCourt(court);" />
                            </td>   
                            <td><button (click)="supprimerCourt(court);" class="deleteCourtButton"><i class="fa fa-trash" ></i></button></td>
                        </tr>
                    </tbody>
                  </table>
                </div>
                <div class="text-right" style="margin-top:10px;">
                    <button class="btn btn-secondary btn-sm" (click)="addCourt();" ><i class="fa fa-plus-circle"></i>&nbsp;Nouveau court</button>
                </div>
          </div>
        </div>
      </div>
                                
        
    </div>
  </div>

</div>
